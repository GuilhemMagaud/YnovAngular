{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/fuc35/OneDrive/Documents/TRAVAIL/Angular/Projet/YnovAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProductCardComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \"Plusieurs tailles disponibles\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", size_r2.price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Taille \", size_r2.taille, \" \");\n  }\n}\nexport class ProductCardComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.selectedPrice = 0;\n    this.validationState = false;\n    this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\n  }\n  ngOnInit() {\n    this.selectedPrice = this.myProduct.price;\n  }\n  SizeSelected(e) {\n    this.value = e.target.value;\n  }\n  onAddLike() {\n    if (this.myProduct.isLiked == false) {\n      this.myProduct.likes++;\n      this.myProduct.isLiked = true;\n    } else {\n      this.myProduct.likes--;\n      this.myProduct.isLiked = false;\n    }\n  }\n  onAddToCart() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.cartService.addToCart(_this.myProduct, null, 1);\n      _this.validationState = true;\n      _this.imageUrl = \"../../assets/svg/plus.svg\";\n      setTimeout(() => {\n        _this.validationState = false;\n        _this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\n      }, 1000);\n      console.log(\"Produit ajouté au panier :\", _this.myProduct);\n    })();\n  }\n}\nProductCardComponent.ɵfac = function ProductCardComponent_Factory(t) {\n  return new (t || ProductCardComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nProductCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductCardComponent,\n  selectors: [[\"app-product-card\"]],\n  inputs: {\n    myProduct: \"myProduct\"\n  },\n  decls: 24,\n  vars: 16,\n  consts: [[1, \"product-card\"], [\"alt\", \"Product image\", 1, \"product-image\", 3, \"src\"], [1, \"product-item-name\"], [1, \"product-item\"], [1, \"article-date\"], [\"class\", \"article-size\", 4, \"ngIf\"], [1, \"product-item\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-price\"], [1, \"buttons-container\"], [1, \"add-to-cart-button\", 3, \"click\"], [1, \"fas\", \"fa-cart-plus\"], [1, \"product-button\", 3, \"click\"], [1, \"article-size\"], [3, \"value\"]],\n  template: function ProductCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"h2\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"uppercase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 4);\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, ProductCardComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementStart(11, \"select\", 6);\n      i0.ɵɵlistener(\"change\", function ProductCardComponent_Template_select_change_11_listener($event) {\n        return ctx.SizeSelected($event);\n      });\n      i0.ɵɵtemplate(12, ProductCardComponent_option_12_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 8);\n      i0.ɵɵtext(14);\n      i0.ɵɵpipe(15, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_17_listener() {\n        return ctx.addToCart();\n      });\n      i0.ɵɵelement(18, \"i\", 11);\n      i0.ɵɵtext(19, \" Ajouter au panier \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_20_listener() {\n        return ctx.onAddLike();\n      });\n      i0.ɵɵelementStart(21, \"b\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \" \\u2665 \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.myProduct.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 8, ctx.myProduct.title));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.myProduct.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 10, ctx.myProduct.date, \"EEEE d MMMM y\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 13, ctx.value, \"EUR\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.myProduct.likes);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i2.UpperCasePipe, i2.CurrencyPipe, i2.DatePipe],\n  encapsulation: 2\n});\nonAddLike();\n{\n  if (this.myProduct.isLiked == false) {\n    this.myProduct.likes++;\n    this.myProduct.isLiked = true;\n  } else {\n    this.myProduct.likes--;\n    this.myProduct.isLiked = false;\n  }\n}\naddToCart();\n{\n  this.cartItemCount++;\n  // Stocker la valeur mise à jour de cartItemCount dans le local storage\n  localStorage.setItem('cartItemCount', this.cartItemCount.toString());\n  console.log(\"Produit ajouté au panier :\", this.myProduct);\n}","map":{"version":3,"mappings":"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","names":["i0","ProductCardComponent","constructor","cartService","ngOnInit","selectedPrice","myProduct","price","SizeSelected","e","value","target","onAddLike","isLiked","likes","onAddToCart","addToCart","validationState","imageUrl","setTimeout","console","log","selectors","inputs","decls","vars","consts","template","ctx","cartItemCount","localStorage","setItem","toString"],"sourceRoot":"","sources":["C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.html","C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.ts"],"sourcesContent":["<div class=\"product-card\">\r\n  <img class=\"product-image\" [src]=\"myProduct.imageUrl\" alt=\"Product image\" />\r\n  <h2 class=\"product-item-name\">{{myProduct.title | uppercase}}</h2>\r\n  <p class=\"product-item\">{{myProduct.description}}</p>\r\n  <p class=\"article-date\">{{myProduct.date | date:'EEEE d MMMM y' }}</p>\r\n  <p class=\"article-size\" *ngIf=\"myProduct.sizes\">Plusieurs tailles disponibles</p>\r\n  <select class=\"product-item\" (change)=\"SizeSelected($event)\">\r\n    <option *ngFor=\"let size of myProduct.sizes\" [value]=\"size.price\">\r\n      Taille {{size.taille}}\r\n    </option>\r\n  </select>\r\n  <p class=\"product-price\">{{value | currency: 'EUR'}}</p>\r\n  \r\n  <div class=\"buttons-container\">\r\n    <button class=\"add-to-cart-button\" (click)=\"addToCart()\">\r\n      <i class=\"fas fa-cart-plus\"></i>\r\n      Ajouter au panier\r\n    </button>\r\n    <button class=\"product-button\" (click)=\"onAddLike()\">\r\n      <b>{{myProduct.likes}}</b> ♥\r\n    </button>\r\n  </div>\r\n  \r\n\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Product } from '../models/product.model';\r\nimport { CartService } from '../service/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-product-card',\r\n  templateUrl: `./product-card.component.html`,\r\n  styles: []\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  @Input() myProduct!: Product;\r\n  selectedPrice: number = 0;\r\n  validationState = false;\r\n  imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\r\n  \r\n  constructor(private cartService: CartService) { }\r\n  \r\n  ngOnInit(): void {\r\n    this.selectedPrice = this.myProduct.price;\r\n  }\r\n\r\n  SizeSelected(e: any) {\r\n    this.value = e.target.value;\r\n  }\r\n\r\n\r\n  onAddLike() {\r\n    if (this.myProduct.isLiked == false) {\r\n      this.myProduct.likes++;\r\n      this.myProduct.isLiked = true;\r\n    } else {\r\n      this.myProduct.likes--;\r\n      this.myProduct.isLiked = false;\r\n    }\r\n  }\r\n\r\n  async onAddToCart(): Promise<void> {\r\n    this.cartService.addToCart(this.myProduct, null, 1);\r\n    this.validationState = true;\r\n    this.imageUrl = \"../../assets/svg/plus.svg\";\r\n    setTimeout(() => {\r\n      this.validationState = false;\r\n      this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\r\n    }, 1000);\r\n    console.log(\"Produit ajouté au panier :\", this.myProduct);\r\n  }\r\n}\r\n\r\n  onAddLike() {\r\n    if (this.myProduct.isLiked == false) {\r\n      this.myProduct.likes++;\r\n      this.myProduct.isLiked = true;\r\n    } else {\r\n      this.myProduct.likes--;\r\n      this.myProduct.isLiked = false;\r\n    }\r\n  }\r\n\r\n  addToCart() {\r\n    this.cartItemCount++;\r\n    // Stocker la valeur mise à jour de cartItemCount dans le local storage\r\n    localStorage.setItem('cartItemCount', this.cartItemCount.toString());\r\n    console.log(\"Produit ajouté au panier :\", this.myProduct);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}