{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/fuc35/OneDrive/Documents/TRAVAIL/Angular/Projet/YnovAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ProductCardComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \"Plusieurs tailles disponibles\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", size_r2.price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Taille \", size_r2.taille, \" \");\n  }\n}\nexport class ProductCardComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.selectedPrice = 0;\n    this.validationState = false;\n    this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\n  }\n  ngOnInit() {\n    this.selectedPrice = this.myProduct.price;\n  }\n  onSizeSelected(e) {\n    let priceIndex = this.myProduct.size?.indexOf(e.target.value) || 0;\n    this.selectedPrice = this.myProduct.price[priceIndex];\n  }\n  onAddLike() {\n    if (this.myProduct.isLiked == false) {\n      this.myProduct.likes++;\n      this.myProduct.isLiked = true;\n    } else {\n      this.myProduct.likes--;\n      this.myProduct.isLiked = false;\n    }\n  }\n  onAddToCart() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.cartService.addToCart(_this.myProduct, null, 1);\n      _this.validationState = true;\n      _this.imageUrl = \"../../assets/svg/plus.svg\";\n      setTimeout(() => {\n        _this.validationState = false;\n        _this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\n      }, 1000);\n      console.log(\"Produit ajouté au panier :\", _this.myProduct);\n    })();\n  }\n}\nProductCardComponent.ɵfac = function ProductCardComponent_Factory(t) {\n  return new (t || ProductCardComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nProductCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductCardComponent,\n  selectors: [[\"app-product-card\"]],\n  inputs: {\n    myProduct: \"myProduct\"\n  },\n  decls: 24,\n  vars: 16,\n  consts: [[1, \"product-card\"], [\"alt\", \"Product image\", 1, \"product-image\", 3, \"src\"], [1, \"product-item-name\"], [1, \"product-item\"], [1, \"article-date\"], [\"class\", \"article-size\", 4, \"ngIf\"], [1, \"product-item\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-price\"], [1, \"buttons-container\"], [1, \"add-to-cart-button\", 3, \"click\"], [1, \"fas\", \"fa-cart-plus\"], [1, \"product-button\", 3, \"click\"], [1, \"article-size\"], [3, \"value\"]],\n  template: function ProductCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"h2\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"uppercase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 4);\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, ProductCardComponent_p_10_Template, 2, 0, \"p\", 5);\n      i0.ɵɵelementStart(11, \"select\", 6);\n      i0.ɵɵlistener(\"change\", function ProductCardComponent_Template_select_change_11_listener($event) {\n        return ctx.SizeSelected($event);\n      });\n      i0.ɵɵtemplate(12, ProductCardComponent_option_12_Template, 2, 2, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 8);\n      i0.ɵɵtext(14);\n      i0.ɵɵpipe(15, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_17_listener() {\n        return ctx.addToCart();\n      });\n      i0.ɵɵelement(18, \"i\", 11);\n      i0.ɵɵtext(19, \" Ajouter au panier \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_20_listener() {\n        return ctx.onAddLike();\n      });\n      i0.ɵɵelementStart(21, \"b\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \" \\u2665 \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.myProduct.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 8, ctx.myProduct.title));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.myProduct.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 10, ctx.myProduct.date, \"EEEE d MMMM y\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.myProduct.sizes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 13, ctx.value, \"EUR\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.myProduct.likes);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i2.UpperCasePipe, i2.CurrencyPipe, i2.DatePipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;IAKEA,6BAAgD;IAAAA,6CAA6B;IAAAA,iBAAI;;;;;IAE/EA,kCAAkE;IAChEA,YACF;IAAAA,iBAAS;;;;IAFoCA,qCAAoB;IAC/DA,eACF;IADEA,sDACF;;;ACAJ,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAJ/B,kBAAa,GAAW,CAAC;IACzB,oBAAe,GAAG,KAAK;IACvB,aAAQ,GAAG,yCAAyC;EAEJ;EAEhDC,QAAQ;IACN,IAAI,CAACC,aAAa,GAAG,IAAI,CAACC,SAAS,CAACC,KAAK;EAC3C;EAEAC,cAAc,CAACC,CAAM;IACnB,IAAIC,UAAU,GAAG,IAAI,CAACJ,SAAS,CAACK,IAAI,EAAEC,OAAO,CAACH,CAAC,CAACI,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC;IAClE,IAAI,CAACT,aAAa,GAAG,IAAI,CAACC,SAAS,CAACC,KAAK,CAACG,UAAU,CAAC;EACvD;EAGAK,SAAS;IACP,IAAI,IAAI,CAACT,SAAS,CAACU,OAAO,IAAI,KAAK,EAAE;MACnC,IAAI,CAACV,SAAS,CAACW,KAAK,EAAE;MACtB,IAAI,CAACX,SAAS,CAACU,OAAO,GAAG,IAAI;KAC9B,MAAM;MACL,IAAI,CAACV,SAAS,CAACW,KAAK,EAAE;MACtB,IAAI,CAACX,SAAS,CAACU,OAAO,GAAG,KAAK;;EAElC;EAEME,WAAW;IAAA;IAAA;MACf,KAAI,CAACf,WAAW,CAACgB,SAAS,CAAC,KAAI,CAACb,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;MACnD,KAAI,CAACc,eAAe,GAAG,IAAI;MAC3B,KAAI,CAACC,QAAQ,GAAG,2BAA2B;MAC3CC,UAAU,CAAC,MAAK;QACd,KAAI,CAACF,eAAe,GAAG,KAAK;QAC5B,KAAI,CAACC,QAAQ,GAAG,yCAAyC;MAC3D,CAAC,EAAE,IAAI,CAAC;MACRE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,KAAI,CAAClB,SAAS,CAAC;IAAC;EAC5D;;AArCWL,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAwB;EAAAC;IAAApB;EAAA;EAAAqB;EAAAC;EAAAC;EAAAC;IAAA;MDTjC9B,8BAA0B;MACxBA,yBAA4E;MAC5EA,6BAA8B;MAAAA,YAA+B;;MAAAA,iBAAK;MAClEA,4BAAwB;MAAAA,YAAyB;MAAAA,iBAAI;MACrDA,4BAAwB;MAAAA,YAA0C;;MAAAA,iBAAI;MACtEA,mEAAiF;MACjFA,kCAA6D;MAAhCA;QAAA,OAAU+B,wBAAoB;MAAA,EAAC;MAC1D/B,6EAES;MACXA,iBAAS;MACTA,6BAAyB;MAAAA,aAA2B;;MAAAA,iBAAI;MAExDA,+BAA+B;MACMA;QAAA,OAAS+B,eAAW;MAAA,EAAC;MACtD/B,yBAAgC;MAChCA,oCACF;MAAAA,iBAAS;MACTA,mCAAqD;MAAtBA;QAAA,OAAS+B,eAAW;MAAA,EAAC;MAClD/B,0BAAG;MAAAA,aAAmB;MAAAA,iBAAI;MAACA,yBAC7B;MAAAA,iBAAS;;;MAnBgBA,eAA0B;MAA1BA,8DAA0B;MACvBA,eAA+B;MAA/BA,+DAA+B;MACrCA,eAAyB;MAAzBA,+CAAyB;MACzBA,eAA0C;MAA1CA,gFAA0C;MACzCA,eAAqB;MAArBA,0CAAqB;MAEnBA,eAAkB;MAAlBA,6CAAkB;MAIpBA,eAA2B;MAA3BA,8DAA2B;MAQ7CA,eAAmB;MAAnBA,yCAAmB","names":["i0","ProductCardComponent","constructor","cartService","ngOnInit","selectedPrice","myProduct","price","onSizeSelected","e","priceIndex","size","indexOf","target","value","onAddLike","isLiked","likes","onAddToCart","addToCart","validationState","imageUrl","setTimeout","console","log","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.html","C:\\Users\\fuc35\\OneDrive\\Documents\\TRAVAIL\\Angular\\Projet\\YnovAngular\\src\\app\\product-card\\product-card.component.ts"],"sourcesContent":["<div class=\"product-card\">\r\n  <img class=\"product-image\" [src]=\"myProduct.imageUrl\" alt=\"Product image\" />\r\n  <h2 class=\"product-item-name\">{{myProduct.title | uppercase}}</h2>\r\n  <p class=\"product-item\">{{myProduct.description}}</p>\r\n  <p class=\"article-date\">{{myProduct.date | date:'EEEE d MMMM y' }}</p>\r\n  <p class=\"article-size\" *ngIf=\"myProduct.sizes\">Plusieurs tailles disponibles</p>\r\n  <select class=\"product-item\" (change)=\"SizeSelected($event)\">\r\n    <option *ngFor=\"let size of myProduct.sizes\" [value]=\"size.price\">\r\n      Taille {{size.taille}}\r\n    </option>\r\n  </select>\r\n  <p class=\"product-price\">{{value | currency: 'EUR'}}</p>\r\n  \r\n  <div class=\"buttons-container\">\r\n    <button class=\"add-to-cart-button\" (click)=\"addToCart()\">\r\n      <i class=\"fas fa-cart-plus\"></i>\r\n      Ajouter au panier\r\n    </button>\r\n    <button class=\"product-button\" (click)=\"onAddLike()\">\r\n      <b>{{myProduct.likes}}</b> ♥\r\n    </button>\r\n  </div>\r\n  \r\n\r\n</div>\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Product } from '../models/product.model';\r\nimport { CartService } from '../service/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-product-card',\r\n  templateUrl: `./product-card.component.html`,\r\n  styles: []\r\n})\r\nexport class ProductCardComponent implements OnInit {\r\n  @Input() myProduct!: Product;\r\n  selectedPrice: number = 0;\r\n  validationState = false;\r\n  imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\r\n  \r\n  constructor(private cartService: CartService) { }\r\n  \r\n  ngOnInit(): void {\r\n    this.selectedPrice = this.myProduct.price;\r\n  }\r\n\r\n  onSizeSelected(e: any) {\r\n    let priceIndex = this.myProduct.size?.indexOf(e.target.value) || 0;\r\n    this.selectedPrice = this.myProduct.price[priceIndex];\r\n  }\r\n\r\n\r\n  onAddLike() {\r\n    if (this.myProduct.isLiked == false) {\r\n      this.myProduct.likes++;\r\n      this.myProduct.isLiked = true;\r\n    } else {\r\n      this.myProduct.likes--;\r\n      this.myProduct.isLiked = false;\r\n    }\r\n  }\r\n\r\n  async onAddToCart(): Promise<void> {\r\n    this.cartService.addToCart(this.myProduct, null, 1);\r\n    this.validationState = true;\r\n    this.imageUrl = \"../../assets/svg/plus.svg\";\r\n    setTimeout(() => {\r\n      this.validationState = false;\r\n      this.imageUrl = \"../../assets/svg/shopping-cart-plus.svg\";\r\n    }, 1000);\r\n    console.log(\"Produit ajouté au panier :\", this.myProduct);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}